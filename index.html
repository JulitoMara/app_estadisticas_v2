<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Score Tracker</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <meta name="theme-color" content="#007bff">
</head>
<body>
    <div class="main-app-container">
        <header class="app-header">
            <h1>Score Tracker</h1>
            <div class="config-section">
                <div class="team-name-group">
                    <label for="teamA-name">Nombre Equipo A:</label>
                    <input type="text" id="teamA-name" value="Equipo A" placeholder="Introduce nombre equipo A">
                </div>
                <div class="team-name-group">
                    <label for="teamB-name">Nombre Equipo B:</label>
                    <input type="text" id="teamB-name" value="Equipo B" placeholder="Introduce nombre equipo B">
                </div>
            </div>
        </header>

        <main class="match-dashboard">
            <section class="left-column">
                <div class="score-section card">
                    <h2>Marcador</h2>
                    <div class="score-display-group">
                        <div class="score-controls-column">
                            <button id="minusA" class="minus-btn">-</button>
                            <button id="plusA" class="plus-btn">+</button>
                        </div>
                        <span id="mainScoreDisplay">0 - 0</span>
                        <div class="score-controls-column">
                            <button id="minusB" class="minus-btn">-</button>
                            <button id="plusB" class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="goals-list-container">
                        <h3>Goles Marcados</h3>
                        <ul id="goals-list" class="event-list">
                            </ul>
                    </div>
                </div>

                <div class="match-timer-section card">
                    <h2>Tiempo de Partido</h2>
                    <span class="timer" id="match-timer">00:00</span>
                    <div class="match-timer-controls">
                        <button id="start-pause-match-timer">Iniciar</button>
                        <button id="reset-match-timer" class="reset-btn">Reiniciar</button>
                    </div>
                </div>

                <div class="possession-section card">
                    <h2>Posesión de Balón</h2>
                    <div class="possession-timers-container">
                        <div class="timer-group">
                            <span id="teamA-possession-name">Equipo A</span>
                            <span class="timer" id="possession-timer-A">00:00</span>
                        </div>
                        <div class="timer-group">
                            <span id="teamB-possession-name">Equipo B</span>
                            <span class="timer" id="possession-timer-B">00:00</span>
                        </div>
                    </div>
                    <div class="possession-bar-container">
                        <div class="possession-bar-fill" id="possession-bar-fill"></div>
                        <span class="possession-percentage-text left-percent" id="possession-percent-A">50%</span>
                        <span class="possession-percentage-text right-percent" id="possession-percent-B">50%</span>
                    </div>
                    <div class="possession-controls">
                        <button id="start-possession-A">Equipo A</button>
                        <button id="start-possession-B">Equipo B</button>
                        <button id="reset-possession" class="reset-btn">Reiniciar</button>
                    </div>
                </div>
            </section>

            <section class="right-column">
                <div class="custom-stats-management card">
                    <h2>Estadísticas Personalizadas</h2>
                    <div class="add-custom-stat-integrated">
                        <input type="text" id="new-stat-name" placeholder="Nombre de nueva estadística">
                        <button id="add-stat-btn">Añadir</button>
                    </div>
                    <div class="custom-stats-grid" id="custom-stats-grid">
                        </div>
                </div>
            </section>
        </main>

        <hr class="section-divider">

        <button id="reset-all" class="reset-all-button">Reiniciar Todo el Partido</button>
    </div>

    <div id="eventModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Historial de Eventos</h2>
            <ul id="modal-event-list" class="event-list"></ul>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registrado con éxito:', registration);
                    })
                    .catch(error => {
                        console.log('Fallo el registro del Service Worker:', error);
                    });
            });
        }
    </script>
</body>
</html>
